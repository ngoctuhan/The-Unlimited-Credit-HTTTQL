<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/ico" href="icons\signs.png" />
    <title>Unlimited</title>

    <!-- Latest compiled and minified CSS -->
    <meta name="viewport" content="width=device-width, initial-scale=1">



    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/lanh.css') }}">
    <!-- <link rel="stylesheet" href="lanh.css"> -->

</head>

<body>


    <nav class="container-fluid navbar navbar-expand-sm  row top-web">

        <div class='col-4 name-website pl-2'>
            <img src="{{url_for('static', filename='icons/signs.png') }}" alt="" srcset="">
            <span class='pl-3'>Tạo tài khoản nhân viên</span>
        </div>

        <div class="">

        </div>
    </nav>
    <div class='container-fluid include row pr-0'>

        <div class=' left  menu-left  col-2 pr-0' style="margin-right: 0px; background-color: rgb(21, 32, 54);">

            <ul nav flex-column>
                <li class="nav-item" style="border-top:1px solid #34495e;">
                    <i class="fa fa-home" aria-hidden="true"></i>
                    <a class="nav-link  " href="#">Home</a>
                </li>
                <li class="nav-item">
                    <i class="fa fa-user" aria-hidden="true"></i>
                    <a id='ttcn' class="nav-link" href="#">Thông tin cá nhân</a>
                </li>
                <li class="nav-item">
                    <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                    <a id='taotk' class="nav-link" href="">Tạo tài khoản nhân viên</a>
                </li>
                <li class="nav-item">
                    <i class="fa fa-bar-chart" aria-hidden="true"></i>
                    <a id='quanly' class="nav-link " href="">Quản lý nhân sự</a>
                </li>
                <li class="nav-item">
                    <i class="fa fa-bar-chart" aria-hidden="true"></i>
                    <a id='quanlykh' class="nav-link " href="">Quản lý khách hàng</a>
                </li>
                <li class="nav-item">
                    <i class="fa fa-cog" aria-hidden="true"></i>
                    <a class="nav-link disabled" href="#">Setting</a>
                </li>
            </ul>

        </div>
        <div class='col-10 m-0 p-0 ' style="background-color: #273c75; min-height: 630px; color: white;">
            <div class='container mt-5 '>

                <div class='row' style="display: flex; margin-left: 80px;">
                    <div class="col-6">
                        <input type="text" id="hoten" class="form-control" name="hoten" placeholder="   Họ và tên" style="width: 75%; height: 40px">
                    </div>
                    <div class='col-6'>
                        <input type="text" class="form-control" id="username" name="username" placeholder="   Tên truy cập" style="width: 75%; height: 40px">
                    </div>
                </div>

                <div class='row mt-5' style="display: flex; margin-left: 80px;">
                    <div class="col-6">
                        <input type="password" id="password" name="password" placeholder="   Mật khẩu" style="width: 75%; height: 40px">
                    </div>
                    <div class="col-6">
                        <input type="password" id="re_password" name="re_password" placeholder="   Nhập lại mật khẩu" style="width: 75%; height: 40px">
                    </div>
                </div>

                <div class='row mt-5' style="display: flex; margin-left: 80px;">
                    <div class="col-6">
                        <input type="email" name="email" id="email" placeholder="   Email" style="width: 75%; height: 40px">
                        <p style="font-size: 12px">bạn cần sử dụng email này trong trường hợp cần đặt lại mật khẩu</p>
                    </div>
                    <div class="col-6">
                        <input type="number" id="sdt" name="sdt" placeholder="   Số điện thoại" style="width: 75%; height: 40px">
                    </div>

                </div>
                <div class='mt-3' style="margin-left: 90px;">
                    <input type="checkbox" name="agree" id="agree"> Tôi đồng ý với <a href="#" style="color: yellow;">Điều khoản dịch vụ</a> và <a href="#" style="color: yellow;">Chính Sách Bảo Mật</a>
                </div>

                <div class='mt-5' style="width: 50%;margin-left: 30%; font-weight: 700;">
                    <button id="btn_dk" class="btn btn-warning" value="Submit" style="width: 75%;height: 40px">
                                    <p style="color: black;">Đăng kí ngay</p>
                                </button>
                </div>

            </div>
        </div>
    </div>



    <script>
        $(document).ready(function() {


            $("#ttcn").click(function() {

                let curr = window.location.href;

                curr = curr.split('/');

                let id_nv = curr[curr.length - 1];

                url = 'http://192.168.16.100:5000/admin-page/' + id_nv;

                $("#ttcn").attr("href", url);

            });

            $("#taotk").click(function() {

                let curr = window.location.href;

                curr = curr.split('/');

                let id_nv = curr[curr.length - 1];

                url = 'http://192.168.16.100:5000/create_employe/' + id_nv;



                $("#taotk").attr("href", url);

            });

            $("#quanly").click(function() {

                let curr = window.location.href;

                curr = curr.split('/');

                let id_nv = curr[curr.length - 1];

                url = 'http://192.168.16.100:5000/danhba/' + id_nv;



                $("#quanly").attr("href", url);

            });
            $("#quanlykh").click(function() {

                let curr = window.location.href;

                curr = curr.split('/');

                let id_nv = curr[curr.length - 1];

                url = 'http://192.168.16.100:5000/danhbaKH/' + id_nv;

                $("#quanlykh").attr("href", url);

            });
            $("#btn_dk").click(function() {
                var creatAccount = {}

                creatAccount["hoten"] = $("#hoten").val();
                creatAccount["username"] = $("#username").val();
                creatAccount["password"] = $("#password").val();
                creatAccount["re_password"] = $("#re_password").val();
                creatAccount["email"] = $("#email").val();
                creatAccount["sdt"] = $("#sdt").val();

                console.log(creatAccount);
                $.ajax({
                    type: "POST",
                    url: "http://192.168.16.100:5000/dataAccount",
                    contentType: "application/json;charset=utf-8",
                    data: JSON.stringify(creatAccount),
                    dataType: 'json',
                    success: function(response) {

                        alert(response['status']);
                    },
                    error: function(error) {
                        console.log(error);
                    }

                });

            });

            $("#formDangki").validate({
                rules: {
                    hoten: "required",
                    username: {
                        required: true,
                        minlength: 6,
                    },
                    password: {
                        required: true,
                        minlength: 6,
                    },
                    re_password: {
                        required: true,
                        minlength: 6,
                        equalTo: "#password",
                    },
                    email: {
                        required: true,
                        email: true,
                    },
                    sdt: {
                        required: true,
                        minlength: 10,
                    },
                    agree: "required"
                },
                messages: {
                    hoten: "Please enter your name",
                    username: {
                        required: "Please enter your username",
                        minlength: "Your username must consist of at least 5 characters"
                    },
                    password: {
                        required: "Please enter your password",
                        minlength: "Your password must consist of at least 5 characters",
                    },
                    re_password: {
                        required: "Please enter your repasword",
                        minlength: "Your password must consist of at least 5 characters",
                        equalTo: "Please enter the same password as above",
                    },
                    sdt: {
                        required: "Please enter your phone",
                        minlength: "Phone number does not exist",
                    },
                    agree: "Please accept our policy",
                }
            });
        });
    </script>
</body>

</html>